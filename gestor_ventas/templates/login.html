<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login - Gestor de Ventas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
       body {
         background: url('{{ url_for("static", filename="assets/fondo.png") }}') no-repeat center center fixed;
         background-size: cover;
       }
       .card {
         background-color: rgba(0, 0, 0, 0.65);
         border: none;
         border-radius: 1rem;
         color: #fff;
       }
       .card .bi {
         color: #adb5bd;
       }
       .form-control {
         background-color: rgba(255,255,255,0.1);
         border: none;
         color: #fff;
       }
       .form-control:focus {
         background-color: rgba(255,255,255,0.2);
         box-shadow: none;
         color: #fff;
       }
       .input-group-text {
         background: transparent;
         border: none;
         color: #adb5bd;
       }
       .btn-primary {
         background-color: #4e6cef;
         border: none;
         border-radius: 2rem;
         padding: 0.75rem 1.5rem;
         font-weight: 600;
       }
       .btn-primary:hover {
         background-color: #3b57b4;
       }
       .logo-icon {
         font-size: 2.5rem;
         color: #4e6cef;
       }
       .form-control::placeholder {
         color: rgba(255, 255, 255, 0.7);
         opacity: 1;
       }
       .position-relative { position: relative; }
       .pe-5 { padding-right: 3rem !important; }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow p-4" style="width: 24rem;">
        <div class="text-center mb-3">
            <i class="bi bi-speedometer2 logo-icon"></i>
            <h2 class="mt-2">BRIGITTE S.A.C</h2>
        </div>
        <h4 class="text-center mb-4">Iniciar Sesión</h4>

        {% if error %}
          <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <form method="POST">
            <div class="mb-3">
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                    <input type="text" class="form-control" name="username" placeholder="Usuario" required>
                </div>
            </div>

            <div class="mb-4 position-relative">
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
                    <input id="password" type="password" class="form-control pe-5" name="password" placeholder="Contraseña" required>
                    <i id="togglePassword" class="bi bi-eye-slash position-absolute top-50 end-0 translate-middle-y me-3" style="cursor:pointer;"></i>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">Iniciar Sesión</button>
        </form>
    </div>

    <script>
        const pwd = document.getElementById('password');
        const toggle = document.getElementById('togglePassword');
        toggle.addEventListener('click', () => {
            const type = pwd.getAttribute('type') === 'password' ? 'text' : 'password';
            pwd.setAttribute('type', type);
            toggle.classList.toggle('bi-eye');
            toggle.classList.toggle('bi-eye-slash');
        });
    </script>
</body>
</html>
